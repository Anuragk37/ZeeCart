{% extends 'userhome/base.html' %}
{% load static%}

{% block content %}

<div class="page-content">

<!--start product grid-->
    <section class="py-4">
        <h5 class="mb-0 fw-bold d-none">Product Grid</h5>
        <div class="container">
        <div class="btn btn-dark btn-ecomm d-xl-none position-fixed top-50 start-0 translate-middle-y"  data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbarFilter"><span><i class="bi bi-funnel me-1"></i> Filters</span></div>
        <div class="row">
            <!-- <div class="col-12 col-xl-3 filter-column">
                <nav class="navbar navbar-expand-xl flex-wrap p-0">
                    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbarFilter" aria-labelledby="offcanvasNavbarFilterLabel">
                    <div class="offcanvas-header">
                        <h5 class="offcanvas-title mb-0 fw-bold text-uppercase" id="offcanvasNavbarFilterLabel">Filters</h5>
                        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body">
                        <div class="filter-sidebar">
                        <div class="card rounded-0">
                            <div class="card-header d-none d-xl-block bg-transparent">
                                <h5 class="mb-0 fw-bold">Filters</h5>
                            </div>
                            <div class="card-body">
                            <h6 class="p-1 fw-bold bg-light">Categories</h6>
                                <div class="categories">
                                <div class="categories-wrapper height-1 p-1">
                                {% for category in categories%}
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="" id="chekCate1">
                                    <label class="form-check-label" for="chekCate1">
                                    <span>{{category.category_name}}</span>
                                    </label>
                                </div>
                                {% endfor %}
                                </div>
                            </div>
                            <hr>
                            <div class="brands">
                                <h6 class="p-1 fw-bold bg-light">Brands</h6>
                                <div class="brands-wrapper height-1 p-1">
                                    {% for brand in brands %}
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="" id="chekCate1">
                                        <label class="form-check-label" for="chekCate1">
                                        <span>{{brand.brand_name}}</span>
                                        </label>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                            <hr>
                            <div class="Price">
                                <h6 class="p-1 fw-bold bg-light">Price</h6>
                                <div class="Price-wrapper p-1">
                                <div class="input-group">
                                    <input type="text" class="form-control rounded-0" placeholder="$10">
                                    <span class="input-group-text bg-section-1 border-0">-</span>
                                    <input type="text" class="form-control rounded-0" placeholder="$10000">
                                    <button type="button" class="btn btn-outline-dark rounded-0 ms-2"><i class="bi bi-chevron-right"></i></button>
                                </div>
                                </div>
                            </div>
                            <hr>
                            <div class="discount">
                                <h6 class="p-1 fw-bold bg-light">Discount Range</h6>
                                <div class="discount-wrapper p-1">
                                <div class="form-check">
                                    <input class="form-check-input" name="exampleRadios" type="radio" value="option1" id="chekDisc1">
                                    <label class="form-check-label" for="chekDisc1">
                                    10% and Above
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="exampleRadios" type="radio" value="option2" id="chekDisc2">
                                    <label class="form-check-label" for="chekDisc2">
                                    20% and Above
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="exampleRadios" type="radio" value="option3" id="chekDisc3">
                                    <label class="form-check-label" for="chekDisc3">
                                    30% and Above
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="exampleRadios" type="radio" value="option4" id="chekDisc4">
                                    <label class="form-check-label" for="chekDisc4">
                                    40% and Above
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="exampleRadios" type="radio" value="option5" id="chekDisc5">
                                    <label class="form-check-label" for="chekDisc5">
                                    50% and Above
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="exampleRadios" type="radio" value="option6" id="chekDisc6">
                                    <label class="form-check-label" for="chekDisc6">
                                    60% and Above
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="exampleRadios" type="radio" value="option7" id="chekDisc7">
                                    <label class="form-check-label" for="chekDisc7">
                                    70% and Above
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" name="exampleRadios" type="radio" value="option8" id="chekDisc8">
                                    <label class="form-check-label" for="chekDisc8">
                                    80% and Above
                                    </label>
                                </div>
                                </div>
                                </div>
                            </div>
                        </div>
                        </div>
                    </div>
                    </div>
                </nav>
            </div> -->
            <div class="col-12 col-xl-9">
                <div class="shop-right-sidebar">
                <div class="card rounded-0">
                    <div class="card-body p-2">
                    <div class="d-flex align-items-center justify-content-between bg-light p-2">
                        <div class="product-count">{{products.count}} items found</div>
                        <div class="view-type hstack gap-2 d-none d-xl-flex">                        
                    </div>
                        <form>
                        <div class="input-group">
                            <span class="input-group-text bg-transparent rounded-0 border-0">Sort By</span>
                            <select class="form-select rounded-0">
                            <option selected>Whats'New</option>
                            <option value="1">Popularity</option>
                            <option value="2">Better Discount</option>
                            <option value="3">Price : Hight to Low</option>
                            <option value="4">Price : Low to Hight</option>
                            <option value="5">Custom Rating</option>
                            </select>
                        </div>
                        </form> 
                    </div>
                    </div>
                </div>

                <div class="product-grid mt-4">
                    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
                        {% for product in products %}
                            <div class="col">
                                <div class="card border shadow-none" style="height: 300px;"> <!-- Set a fixed height for the card -->
                                    <div class="position-relative overflow-hidden">
                                        <div class="product-options d-flex align-items-center justify-content-center gap-2 mx-auto position-absolute bottom-0 start-0 end-0">
                                            <a href="javascript:;"><i class="bi bi-heart"></i></a>
                                            <a href="javascript:;"><i class="bi bi-basket3"></i></a>
                                        </div>
                                        {% for product_varient in product.product_varient.all %}
                                            {% for product_image in product_varient.product_images.all|slice:":1" %}
                                                <a href="{% url 'user_products:product_detail' product.id %}">
                                                    <img src="{{ product_image.image.url }}" style="width: 100%; height: 100%;" alt="...">
                                                </a>
                                            {% endfor %}
                                        {% endfor %}
                                    </div>
                                    <div class="card-body border-top">
                                        <h5 class="mb-0 fw-bold product-short-title">{{ product.product_name }}</h5>
                                        <div class="product-price d-flex align-items-center gap-2 mt-2">
                                            <div class="h6 fw-bold">â‚¹{{ product.price }}</div>
                                            <div class="h6 fw-light text-muted text-decoration-line-through"></div>
                                            <div class="h6 fw-bold text-danger">(70% off)</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %} 
                    </div><!--end row-->
                </div>

                </div>
            </div>
        </div><!--end row-->
        </div>
    </section>
   <!--start product details-->


  
  
 </div>
  <!--end page content-->

{% endblock %} 