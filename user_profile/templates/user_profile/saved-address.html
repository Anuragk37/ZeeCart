{% extends "userhome/base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
<div class="page-content">
   <section class="section-padding">
      <div class="container">
         <div class="d-flex align-items-center px-3 py-2 border mb-4">
         <div class="text-start">
            <h4 class="mb-0 h4 fw-bold">Account - Profile</h4>
         </div>
      </div>
      <div class="btn btn-dark btn-ecomm d-xl-none position-fixed top-50 start-0 translate-middle-y"  data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbarFilter"><span><i class="bi bi-person me-2"></i>Account</span></div>
         <div class="row">
            <div class="col-12 col-xl-3 filter-column">
               <nav class="navbar navbar-expand-xl flex-wrap p-0">
                  <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbarFilter" aria-labelledby="offcanvasNavbarFilterLabel">
                     <div class="offcanvas-header">
                        <h5 class="offcanvas-title mb-0 fw-bold text-uppercase" id="offcanvasNavbarFilterLabel">Account</h5>
                        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                     </div>
                     <div class="offcanvas-body account-menu">
                        <div class="list-group w-100 rounded-0">
                           <a href="{% url 'order_list' %}" class="list-group-item"><i class="bi bi-basket3 me-2"></i>Orders</a>
                           <a href="{% url 'user_profile' %}" class="list-group-item "><i class="bi bi-person me-2"></i>Profile</a>
                           <a href="{% url 'edit_profile' %}" class="list-group-item"><i class="bi bi-pencil me-2"></i>Edit Profile</a>
                           <a href="{% url 'saved_address' %}" class="list-group-item active"><i class="bi bi-pin-map me-2"></i>Saved Address</a>
                           <a href="{% url 'wishlist_cart:wishlist' %}" class="list-group-item"><i class="bi bi-suit-heart me-2"></i>Wishlist</a>
                           <a href="{% url 'view_coupon' %}" class="list-group-item"><i class="bi bi-suit-heart me-2"></i>Coupon</a>
                        </div>
                     </div>
                  </div>
               </nav>
            </div>                                                                                             
            <div class="col-12 col-xl-9">
               <div class="card rounded-0">
                  <div class="card-header bg-light">
                    <div class="d-flex align-items-center">
                      <div class="flex-grow-1">
                        <h5 class="fw-bold mb-0">Saved Address</h5>
                      </div>
                      <div class="">
                        <a href="{% url 'add_address' %}" role="button" class=" btn btn-ecomm">Add address</a>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                     {% for address in addresses %}
                    <div class="card rounded-0 mb-3">
                      <div class="card-body">
                        <div class="d-flex flex-column flex-xl-row gap-3">
                          <div class="address-info form-check flex-grow-1">
                            <label class="form-check-label" for="flexRadioDefaultAddress1">
                              <span class="fw-bold mb-0 h5">{{address.name}}</span><br>
                              {{address.address}} <br>
                              {{address.locality}}, {{address.state}}<br>
                              PIN: {{address.pincode}} <br>
                              Mobile: <span class="text-dark fw-bold">{{address.phone_no}}</span>
                            </label>
                          </div>
                          <div class="d-none d-xl-block vr"></div>
                          <div class="d-grid gap-2 align-self-start align-self-xl-center">
                           <a href="{% url 'delete_address' address.id %}" role="button" class=" btn btn-outline-dark px-5 btn-ecomm">Remove</a>
                           <a href="{% url 'edit_address' address.id %}" role="button" class=" btn btn-outline-dark px-5 btn-ecomm">Edit</a>
                          </div>
                        </div>
                      </div>
                    </div>
                    {% endfor %}
    
                    <div class="card rounded-0">
                      <div class="card-body">
                        <a href="{% url 'add_address' %}" role="button" class=" btn btn-ecomm">Add New address</a>
                      </div>
                    </div>
                  </div>
                </div>
            </div>
         </div>
      </div>
   </section>
</div>

{% endblock %}